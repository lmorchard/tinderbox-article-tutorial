<!DOCTYPE html><html>	<head>		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />		<title>Creating an article in HTML with Tinderbox</title>		<link rel="stylesheet" type="text/css" href="css/article.css" />	</head>	<body>		<article id="article-1">			<h1>				<a href="#article-1">Creating an article in HTML with Tinderbox</a>							</h1>			<p class="meta">				Last updated at <span class="modified">Sat, 5 Jun 2010 15:10:00 -0400</span>			</p>					<p class="author vcard">				by <a class="fn url" href="http://lmorchard.com/">l.m.orchard</a>				 / <a class="email" href="mailto:l.m.orchard@pobox.com">l.m.orchard@pobox.com</a>				 / <a class="twitter" href="http://twitter.com/lmorchard">@lmorchard</a>			</p>			<p>For almost 10 years now, I've had an on-again / off-again relationship with <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> from <a href="http://www.eastgate.com/">Eastgate Systems Inc</a>. I've long used outlines and mindmaps to get thoughts and out of my head and onto paper and screens. So, it's pretty inevitable that I'd eventually be attracted to <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a>.</p><p>But, the thing is, <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> is a complex <em>technology</em>. Note that I didn't write <em>application</em> or <em>utility</em>: <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> isn't a sleek little productivity app you can pick up for $20 or less—and if you approach it from that mindset both the price and user interface will baffle you.</p><p>No, <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> is more like a hyperdimensional spreadsheet or a personal <a href="http://couchdb.apache.org/">CouchDB</a>. <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> is a platform for capturing your thoughts and wrapping them in a scaffold of machine intelligence. The learning curve follows a crazy-steep <a href="http://en.wikipedia.org/wiki/Sigmoid_function">Sigmoid function</a>. But, the complexity is there for a reason. This isn't a commuter vehicle; this is a fully-articulated piece of <a href="http://bit.ly/cBJBpX">heavy machinery</a> for your brain.</p><p>And, as such, you'll probably require a bit of training before you can get productive. So, apropos of <a href="http://decafbad.com/blog/2010/03/10/pondering-the-cobwebs">my notion of writing for myself</a>, I thought I might throw together a tutorial on some things that have finally come together for me. If I do this right, it'll be a tutorial I wish I'd had a few years ago.</p>			<div class="toc">				<h2>Table of Contents</h2>				<ul><li><a href="#section-2">Writing an article in Tinderbox</a>			<ul><li><a href="#section-3">Outline the article's sections</a>	</li><li><a href="#section-4">Write the article's text in notes</a>	</li></ul>	</li><li><a href="#section-12">Using prototypes to augment notes</a>			<ul><li><a href="#section-6">Creating an "Internals" note to contain utility notes</a>	</li><li><a href="#section-13">Creating the *article prototype</a>			<ul><li><a href="#section-48">Using badges in outlines with prototypes</a>	</li></ul>	</li><li><a href="#section-16">Creating the *section prototype</a>	</li><li><a href="#section-19">Using an OnAdd rule to auto-create *section notes</a>	</li></ul>	</li><li><a href="#section-20">Exporting the article as HTML</a>			<ul><li><a href="#section-21">Creating a *template prototype</a>	</li><li><a href="#section-22">Creating the article.html template</a>	</li><li><a href="#section-44">Using the article.html template</a>	</li><li><a href="#section-25">Creating and using the section.html template</a>	</li><li><a href="#section-45">Preview and perform an HTML export</a>	</li></ul>	</li><li><a href="#section-29">Refining the document and export process</a>			<ul><li><a href="#section-40">Restricting which notes get exported</a>	</li><li><a href="#section-31">Filtering exported text through Markdown</a>	</li><li><a href="#section-30">Building anchors for within-page links</a>			<ul><li><a href="#section-49">Creating a new auto-incrementing attribute</a>	</li><li><a href="#section-50">Using the new attribute in templates</a>	</li></ul>	</li></ul>	</li><li><a href="#section-43">Summary</a>	</li></ul>			</div>			<section id="section-2">	<h2><a href="#section-2">Writing an article in Tinderbox</a></h2>	<p>This will be a tutorial about writing an article with <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> for publication as HTML. In fact, this tutorial written using Tinderbox, so it'll serve as its own example. You're reading the HTML export now, and the complete source documents can be <a href="http://github.com/lmorchard/tinderbox-article-tutorial">found here on GitHub</a>.</p><p>I'll build things up incrementally throughout the tutorial, documenting something close to the actual process I went through along the way. Following along with the final product may help you—though building your own may help more.</p>	<section id="section-3">	<h3><a href="#section-3">Outline the article's sections</a></h3>	<p>The first thing to do is to create a new document, which opens up as an Outline View by default.  Hit return to create your first <em>note</em>, and type the title "Creating an HTML5 Article with Tinderbox":<img src="img/010-outline.png" alt="010-outline" title="A new outline" /></p><p>Now, if you hit Shift-Return, you'll create a child note under the first one. Type the title of your second note, "Outline your article's sections".  After that, hit Return, and you can start typing the title of the next note.  Your outline is now well under way:<img src="img/020-outline-2.png" alt="020-outline-2" title="An outline in progress" /></p><p>This is basic outlining, one of the simpler features of Tinderbox and many productivity applications. Continue like this, sketching out the structure of what you plan to write. You can drag notes around to rearrange them, delete them, do whatever you like with the outline. Note that <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> offers many further tools for capturing and visualizing your thoughts, but we'll stick with the Outline View for now.</p>	</section><section id="section-4">	<h3><a href="#section-4">Write the article's text in notes</a></h3>	<p>Once you've got an outline for your article in good shape, it's time to start writing the text of the article itself. Really, you can bounce back and forth between outlining and writing prose—Tinderbox doesn't impose a process—but this is a good time to introduce the latter.</p><p>In <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a>, notes have many attributes. So far, you've seen the <code>Name</code> attribute used as the titles of outline nodes. Well, notes can also contain body text. To see what I mean, click on a note to select it—say the root note of your outline—and hit the spacebar. Here's what the body text looks like for the root node of this tutorial:<img src="img/021-note-text.png" alt="021-note-text" title="Note body text editor" /></p><p>You can click on any note in the outline and call up a text editor with the spacebar. By using this editor, you can work on writing the actual content of your article.</p><p>But, clicking on each note and hitting the spacebar can get tedious after awhile. <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> offers another View to make editing easier across a complex document. Select <code>View &gt; New Explorer View</code> from the menu, and you'll see something like this window:<img src="img/025-explorer-view.png" alt="025-explorer-view" title="New Explorer view" /></p><p>The Explorer View is a split window combining both a text editor with another view type. By default, this will show your outline. Here, you can click on the title of a note, and its text appears in the editor. This should make it easier to jump back and forth between sections, and even perform some tweaks to the outline itself. </p><p>One of the main drawbacks of using the Explorer View, though, is that it's difficult to compare the text of two notes side-by-side. However, Tinderbox lets you easily switch between multiple views on the same document, so nothing keeps you from using whatever tool makes sense from moment to moment.</p>	</section></section><section id="section-12">	<h2><a href="#section-12">Using prototypes to augment notes</a></h2>	<p>Spreadsheets and relational databases center around rows and columns. Similarly, Tinderbox centers around notes and attributes. For the most part, the attributes of your notes have been invisible, since you've been dealing mainly with names and body text. But, you're about to get a bit more acquainted with what goes on under the hood of your notes.</p><p>In Tinderbox, you can create a special kind of note called a <em>prototype</em>. A prototype, as its name suggests, can serve as the basis for many other notes. You can create a prototype and assign values to its attributes, and those values will be used as defaults for other notes using that prototype. Furthermore, if you change an attribute on a prototype, other notes using the prototype will inherit the changes to their defaults.</p><p>Now, say you're done composing the content of your article. You've gotten the outline structured to your satisfaction, and let's say you've written everything you want for a first draft. It's time to begin preparing the document for the production of an HTML page.</p>	<section id="section-6">	<h3><a href="#section-6">Creating an "Internals" note to contain utility notes</a></h3>	<p>First, in order to keep things clean, you're going to create a new note to contain the export machinery you'll soon need. </p><p>Select the root note of your article.  But, rather than just hitting return to create a new outline item, hit Cmd-K to summon the full Create Note dialog window:<img src="img/050-internals.png" alt="050-internals" title="Creating the internals note" /></p><p>In this dialog, you can control quite a number of different attributes and options. But, ignore most of them for now. Just type the name "Internals" and, for good measure, check the "Separator" box. This will create a new note like the following:<img src="img/060-internals.png" alt="060-internals" title="The internals note in the outline" /></p><p>Checking "Separator" served both to sneak in a new example of a Tinderbox feature, as well as to make this special new container stand apart from the article content. I prefer doing this to help make a clear distinction between the content I'm working on and the notes I accumulate to help process that content.</p><p>Also, notice I got a little ahead of things in the screenshot above: Two additional notes should be added as children to "Internals", respectively named "Prototypes" and "Templates". These will serve as containers for further resources created throughout the tutorial.</p>	</section><section id="section-13">	<h3><a href="#section-13">Creating the *article prototype</a></h3>	<p>Next, to further explore prototypes, create a child note named "<code>*article</code>" under the Prototypes note in Internals. Why the name <code>*article</code>? No technical reason, really; name it whatever you like. I prefer to use peculiar names for notes that have special purposes—not unlike using the separator style for the Internals container.</p><p>Now, either right-click and select Rename from the context menu, or hit Enter. (That's <em>Enter</em>, mind you, not <em>Return</em>. On my MacBook Pro, this is Fn-Return.) This will summon up the note details dialog, not unlike the one used to create the Internals note earlier:<img src="img/070-article-create.png" alt="070-article-create" title="Creating the article prototype" /></p><p>In this dialog, check the box next to "Can be a prototype" and click Ok. This note is now a prototype.  </p><p>Next, to use the new prototype, select the root note of your article and summon the note dialog with either the right-click menu or the Enter key:<img src="img/080-article-prototype.png" alt="080-article-prototype" title="Using the article prototype" /></p><p>Notice the drop down selection for Prototype. In this list, you should see the name of your new prototype <code>*article</code>—select it and hit Ok. Now, your root article note is an instance of the prototype <code>*article</code>.</p>	<section id="section-48">	<h4><a href="#section-48">Using badges in outlines with prototypes</a></h4>	<p>To demonstrate how prototype inheritance works, I'll introduce another interesting feature of Tinderbox outlines called <em>badges</em>. </p><p>Just to the left of the note title for <code>*article</code>, there should be a bit of empty space. Right-click here, and you should see a list of icons like these:<img src="img/090-article-badge.png" alt="090-article-badge" title="Picking the article badge" /></p><p>Pick one of these—I used "web", myself—and you should notice that not only does the prototype now have an icon next to it, so does the root note of your article:<img src="img/091-article-badge-applied.png" alt="091-article-badge-applied" title="Prototype badge inherited" /></p><p>This works because the badge you picked is assigned by Tinderbox to the <code>Badge</code> attribute of the <code>*article</code> prototype. And, since your article's root node is an instance of the <code>*article</code> prototype, it received the same value for its <code>Badge</code> attribute as well. </p>	</section></section><section id="section-16">	<h3><a href="#section-16">Creating the *section prototype</a></h3>	<p>The next prototype to create should be named "<code>*section</code>". This one will be used for all the sections and sub-sections in your article. Create it in the same way you created <code>*article</code>—that is: create the note, summon the note details dialog, ensure "Can be a prototype" is checked.</p><p>After you've created a <code>*section</code> prototype, give it a badge. I used "arrow right" in my document:<img src="img/101-section-badge.png" alt="101-section-badge" title="Section prototype with badge" /></p><p>I've also given a "folder" badge to some other container notes: These are purely ornamental, helping keep track visually of the purposes that various notes serve. Now, select your article's root note, select <code>View &gt; Expand All</code> to reveal all sections. Select all of these sections, by clicking the first and then clicking the last in the list while holding shift.  The selection should look like this:<img src="img/110-select-sections.png" alt="110-select-sections" title="Select all sections" /></p><p>Once you've got sections selected, it's time for another interesting tool in the Tinderbox, called <em>Quickstamp</em>. Either hit Cmd-1 or pick <code>Window &gt; Inspector</code> from the menu. You'll see a dialog like this one:<img src="img/111-quickstamp-sections.png" alt="111-quickstamp-sections" title="Quickstamp dialog" /></p><p>With this dialog, you can quickly assign a value for a given attribute onto many notes at once. Select the "General" category from the first drop down, and then "Prototype" from the second. Type "<code>*section</code>" into the Value field, and click Apply.</p><p>Almost instantly, you should see the badge from your <code>*section</code> prototype appear on all the sections you've selected in your outline:<img src="img/112-section-applied.png" alt="112-section-applied" title="Section prototype applied" /></p><p>As the spread of the decorative badge demonstrates, the prototype inheritance mechanism has propagated the badge change to all notes using <code>*section</code> as a prototype. This will come in handy beyond badges before the tutorial is done.</p>	</section><section id="section-19">	<h3><a href="#section-19">Using an OnAdd rule to auto-create *section notes</a></h3>	<p>There's one more way to apply a prototype that's worth showing here. You've applied a prototype to a single note, and then used Quickstamp to apply a prototype to many notes. But, those are manual processes—wouldn't it be nice if you could get a prototype automatically applied to certain notes when you create them?</p><p>As it turns out, this something the "OnAdd Action" field in the note details dialog can do. Open up the details for the <code>*article</code> prototype, and type in the following OnAdd Action field:</p><pre><code>if ($Prototype="") { $Prototype="*section" }</code></pre><p>The dialog should look like this before you hit Ok:<img src="img/120-onadd.png" alt="120-onadd" title="OnAdd rule for sections" /></p><p>Repeat this process with the <code>*section</code> prototype.</p><p>What should happen in your document now is that whenever you add a new note to your document under notes using the <code>*article</code> or <code>*section</code> prototype, that new child will be assigned to the <code>*section</code> prototype—unless it already has a prototype (eg. having been dragged in from elsewhere, or having been given a prototype by other means).  </p><p>This is pretty powerful: It means that you can set up outline container notes that establish defaults over their contents without requiring manual work beyond creating children.</p>	</section></section><section id="section-20">	<h2><a href="#section-20">Exporting the article as HTML</a></h2>	<p>First, you used Tinderbox as an outliner to rough out an article. Then, you used it as a word processor, writing content on top of your outline. After that, you augmented notes with prototypes describing their respective intents (ie. <code>*article</code> vs <code>*section</code>) and assigning common default attributes.</p><p>This is the point where Tinderbox starts to shine: Through the use of notes, attributes, and prototypes, you can begin building automated processing and intelligence around your content. </p><p>As far as the scope of this tutorial goes, though, we'll limit things to producing an HTML page from your document. To facilitate this, Tinderbox offers powerful templating and export capabilities that can be highly customized via the same tools you use to capture thoughts and create content. Most of the features you've seen up to this point in the tutorial will be used again to build an HTML page from your article outline and text.</p>	<section id="section-21">	<h3><a href="#section-21">Creating a *template prototype</a></h3>	<p>HTML export can be accomplished in Tinderbox though the use of <em>export templates</em>. If you're a web developer, you're probably already be familiar with the concept. If not, maybe think of templates as akin to <a href="http://en.wikipedia.org/wiki/Mail_merge">mail merge</a> in word processors: A single example of output applied to many instances of structured data.</p><p>Export templates in Tinderbox can be files on disk, or taken from <a href="http://www.acrobatfaq.com/atbref5/index/ImportExportFormatting/Notescanbeexporttemplate.html">the text of notes in your document</a>. They're built using <a href="http://www.acrobatfaq.com/atbref5/index/ExportCodes/ExportCodes-FullListing.html" title="Tinderbox export codes">a set of codes</a> that allow you to reference notes, output attribute values, and construct enough logic to satisfy most export needs.</p><p>For this tutorial, we'll use notes for templates. So, the next step is to create a prototype named "<code>*template</code>" under your Internals note, like so:<img src="img/130-template-prototype.png" alt="130-template-prototype" title="Creating a template prototype" /></p><p>Ensure that both the "Can be a prototype" and "Can be a template" checkboxes    are checked in the note details dialog. In my document, I also gave the <code>*template</code> prototype a "design" badge, so as to make them easily identifiable in outlines.</p>	</section><section id="section-22">	<h3><a href="#section-22">Creating the article.html template</a></h3>	<p>Alongside the Prototypes note under Internals, we also created a Templates container note. Within this note, create a new one named "<code>article.html</code>" using <code>*template</code> as a prototype. Your outline should now look like this:<img src="img/140-article-tmpl-in-outline.png" alt="140-article-tmpl-in-outline" title="Article template in outline" /></p><p>Edit the text of your new <code>article.html</code> note, pasting in the following code:</p><pre><code>&lt;!DOCTYPE html&gt;&lt;html&gt;    &lt;head&gt;        &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt;        &lt;title&gt;^title^&lt;/title&gt;    &lt;/head&gt;    &lt;body&gt;        &lt;article&gt;            &lt;h1&gt;^title^&lt;/h1&gt;            ^value($Text)^            ^justChildren^        &lt;/article&gt;    &lt;/body&gt;&lt;/html&gt;</code></pre><p>Giving a full explanation of <a href="http://www.acrobatfaq.com/atbref5/index/ExportCodes.html">the export codes available for use</a> in templates is beyond the scope of this tutorial, but hopefully you can make sense of most of it. It's HTML, with a few codes sprinkled in to pull content from an article note. You can add CSS and JavaScript includes if you like, and customize the markup however you like.</p><p>One of the most interesting parts of this template, though, is the <code>^justChildren^</code> code: This code causes the export process to recurse into child notes in the outline, including the output of their export templates at this spot in the parent note outline.</p><p>So, this <code>article.html</code> template provides the overall shell for the HTML page, including both content from the root note of the article and all its sections.</p>	</section><section id="section-44">	<h3><a href="#section-44">Using the article.html template</a></h3>	<p>Now that you've got a template for use in exporting an article, it's time to use it. This is a natural match for the <code>*article</code> prototype you created earlier. To pair the two together, first select the <code>*article</code> prototype note and then choose <code>View &gt; New HTML View</code> from the menu.  You should see something like this:<img src="img/150-article-html-view.png" alt="150-article-html-view" title="HTML view on *article" /></p><p>Within that view dialog, there's a drop down selector for the Template field. Listed in that selector should be your new <code>article.html</code> template, so choose it. This will set this template as the default for any HTML export of any note using <code>*article</code> as its prototype. For the current document, that's just one article, but it could apply to many thanks to the prototype inheritance mechanism.</p><p>Additionally, ensure that the "Export" and "Markup text" checkboxes are checked in this dialog. This will ensure the article is exported, and that the plain text content of these notes will be automatically wrapped in HTML tags according to some rules built into Tinderbox.  </p><p>Note that the "Export children" checkbox is unchecked: This is because <code>article.html</code> uses the <code>^justChildren^</code> code to include exported children within the same HTML file, whereas "Export children" will cause the export process to produce separate files for all child notes. Doing both could be useful in, for example, blogs with index pages and individual entry pages displaying the same content.</p><p>You should feel free to play with these settings to get a sense for what they do—their results should appear in the HTML View as a preview whenever you click the "Update" button. You can also use the "Preview" button to open the HTML in a browser of your choice, configured for the document. (To choose a browser, try <code>Edit &gt; Document Preferences &gt; HTML</code> from the menu bar.)</p>	</section><section id="section-25">	<h3><a href="#section-25">Creating and using the section.html template</a></h3>	<p>Just as you did for <code>article.html</code>, create a new note under Internals / Templates, giving it a prototype of <code>*template</code>. Edit its text and paste in the following code:</p><pre><code>&lt;section&gt;    &lt;h^value($OutlineDepth)^&gt;^title^&lt;/h^value($OutlineDepth)^&gt;    ^value($Text)^    ^justChildren^&lt;/section&gt;</code></pre><p>This looks much like the <code>article.html</code> template, though it introduces the attribute <code>OutlineDepth</code>. You can consult <a href="http://www.acrobatfaq.com/atbref5/index/Attributes/SystemAttributeList.html">a full list of note attributes</a>, but this particular attribute is useful for determining the depth of a section within the outline. This allows you to programmatically produce section title elements progressing from <code>&lt;h1&gt;</code> to <code>&lt;h6&gt;</code> and beyond, depending on how deeply nested a subsection is within the article.</p><p>And as you did for <code>*article</code>, open a new HTML View on the <code>*section</code> prototype and select the <code>section.html</code> template to pair the two, like so:<img src="img/160-section-html-view.png" alt="160-section-html-view" /></p><p>The impact of doing this for the <code>*section</code> prototype is more wide-ranging than for the <code>*article</code> prototype: Since <code>*section</code> is applied to most of the notes in the outline, pairing the <code>section.html</code> template to <code>*section</code> causes that template to also be paired to every section in the article.</p><p>So, thanks to <code>^justChildren^</code> and the use of prototypes, the <code>article.html</code> and <code>section.html</code> templates will be used to recursively export the content from all notes in your article as HTML.</p>	</section><section id="section-45">	<h3><a href="#section-45">Preview and perform an HTML export</a></h3>	<p>If you select the root note of your article and open an HTML View, you should now be able to see a preview of the full HTML page that will be exported using the templates you just created and paired with prototypes:<img src="img/170-full-html-preview.png" alt="170-full-html-preview" title="Full HTML export preview" /></p><p>From the HTML View, you can also set a file name, extension, and destination folder for file output of the HTML export. Hitting the "Export" button will produce the desired file on disk. </p><p>Additionally, once these attributes have been set, they'll be used as defaults in the future. This comes in handy for use with the <code>File &gt; Export as HTML...</code> menu item, which will perform HTML export on all notes without the need to open a new HTML View for each one individually. This doesn't matter as much for the present document, since there's only one article, but you can produce a collection of articles or even an entire website in this manner with just a single Tinderbox document.</p>	</section></section><section id="section-29">	<h2><a href="#section-29">Refining the document and export process</a></h2>	<p>At this point, we're pretty much done. You got an article outlined and written, augmented it with prototypes, and set up HTML export templates. You can continue to edit the content and produce an HTML page whenever you like.</p><p>But, there are a couple of rough edges left, plus a few bonus features I can throw in.  This, by the way, is one of the dangers I've found in using Tinderbox: resisting the temptation to constantly tweak and refine documents, rather than doing the work I built the documents for in the first place.</p>	<section id="section-40">	<h3><a href="#section-40">Restricting which notes get exported</a></h3>	<p>If you tried the <code>File &gt; Export as HTML</code> menu item, you may have noticed some extra files and folders beyond the article itself appearing in your export folder. (If you haven't tried it, you might want to do so now to follow along.)</p><p>This is because all notes have an attribute <code>HTMLDontExport</code> with a default value of <code>false</code>. This means that when the <code>Export as HTML</code> command scans through the entire document, all notes are exported <em>except</em> those with an <code>HTMLDontExport</code> attribute set to <code>true</code>. This attribute can be managed by the Quickstamp dialog, is also managed by the HTML View (eg. the Export checkbox), and via the <code>Note &gt; Get Info</code> menu item.</p><p>There's also an attribute called <code>HTMLExportChildren</code>, which corresponds to the "Export children" checkbox in an HTML View. This acts like the inverse of <code>HTMLDontExport</code>, only applied to all the contents of a note.</p><p>In particular, the Internals note and all of its children are not worth exporting to HTML. So, to exclude it from the process, select the note and open a new HTML View. Ensure that the "Export" and "Export children" checkboxes are unchecked.</p><p>If you try another <code>Export as HTML</code> command to an empty folder, you should notice that the extra files and folders not related to your article's page are no longer generated by Tinderbox.</p>	</section><section id="section-31">	<h3><a href="#section-31">Filtering exported text through Markdown</a></h3>	<p>Throughout this tutorial, you also may have noticed that I'm using the <a href="http://daringfireball.net/projects/markdown/">Markdown</a> syntax in my article text. If you tried to do the same, you may have wondered why your HTML exports didn't seem to support this formatting scheme.</p><p>As it turns out, Markdown is not built into Tinderbox. Instead, export codes offer a tool you can use during to filter text through external shell commands. <a href="http://www.markbernstein.org/Aug0701/Tinderbox4usingMarkdown.html">As the creator of Tinderbox explains in a blog posting</a>, this means that you can cause Tinderbox to execute <code>Markdown.pl</code> as a text filter during the HTML export process.</p><p>To do this, you'll first need to <a href="http://daringfireball.net/projects/downloads/Markdown_1.0.1.zip">download the Markdown script</a>. I did so, and copied <code>Markdown.pl</code> to <code>/usr/local/bin</code> on my Mac.</p><p>Next, edit the source of your <code>article.html</code> and <code>section.html</code> templates. Look for these lines:</p><pre><code> ^value($Text)^</code></pre><p>Replace these expressions with the following template code:</p><pre><code> ^value(runCommand("perl /usr/local/bin/Markdown.pl",$Text))^</code></pre><p>If you placed the <code>Markdown.pl</code> script in a directory other than <code>/usr/local/bin</code>, be sure to adjust the file path in <code>runCommand()</code>.</p><p>Here, <a href="http://www.acrobatfaq.com/atbref5/index/ActionsRules/Operators/FullOperatorList/runCommandcommandLineinp.html">the <code>runCommand()</code> operator</a> does the work of executing <code>Markdown.pl</code> with your note's text as input. The output will be included in the HTML export.</p>	</section><section id="section-30">	<h3><a href="#section-30">Building anchors for within-page links</a></h3>	<p>For a long document like this tutorial, including anchors within the page is useful for supporting links to specific parts from other referring pages or for building a table of contents. And, the important thing about creating page anchors is that each is given a unique identifier.</p><p>By default, though, a note in Tinderbox does not have unique a identifier accessible by attribute from which to build a page anchor. However, you can create one yourself by setting up a new attribute that implements an auto-incrementing index.</p>	<section id="section-49">	<h4><a href="#section-49">Creating a new auto-incrementing attribute</a></h4>	<p>You see, as mentioned earlier, Tinderbox is about notes and attributes like relational databases are about rows and columns. And, like a database, Tinderbox maintains a schema describing all possible attributes for notes in a document. Each of these attributes has a name, a data type, and a default value.</p><p>The <a href="http://www.acrobatfaq.com/atbref5/index/Attributes/SystemAttributeList.html">set of attributes</a> provided out of the box quite long, and it covers a lot of capabilities for notes. However, the built-in attributes are not always sufficient. With this in mind, Tinderbox offers the ability to change the default values of existing attributes, or to add your own new attributes to the list. It's the latter we're interested in here for the construction of page anchors.</p><p>You can summon the Attributes dialog via <code>Window &gt; Attributes</code> in the menu, or via keyboard with Cmd-2. The Attributes dialog is small, but it's very powerful: Whereas notes can inherit default attribute values from a selected prototype, changes made in the Attributes dialog window affect all notes throughout the document. The Attributes dialog looks like this:</p><p><img src="img/180-attributes-dialog.png" alt="180-attributes-dialog" title="Attributes management dialog" /></p><p>If you click the "Create..." button, you'll see another dialog like this one:</p><p><img src="img/181-attribute-creation.png" alt="181-attribute-creation" title="Creating a new attribute" /></p><p>To create a new auto-incrementing attribute with this dialog, do the following:</p><ul><li>enter a name of "id"; </li><li>select a type of "number"; </li><li>check the "sequential" box;</li><li>enter a default value of "0";</li><li>click OK.</li></ul><p>You should now see the new user-created attribute <code>id</code> listed under the User tab of the Attribute dialog. </p><p>What you didn't see is, though, is this: Upon creation of the <code>id</code> attribute, all notes in the document were automatically assigned sequential numeric values for the attribute. And, in the future, all new notes will be given the next sequential number for <code>id</code>, not unlike an auto-increment column in a database. Any notes you duplicate or copy/paste will <em>also</em> receive a new sequential number for this field, thus making it a reliable choice as unique identifier for notes.</p>	</section><section id="section-50">	<h4><a href="#section-50">Using the new attribute in templates</a></h4>	<p>Now that you've got a reliable unique identifier for all notes in an attribute, using it in an export template is very simple. In fact, here's a revised version of the <code>section.html</code> template you can use to start generating page anchors and links in the section headers:</p><pre><code>&lt;section id="section-^value($id)^"&gt;    &lt;h^value($OutlineDepth)^&gt;        &lt;a href="#section-^value($id)^"&gt;^title^&lt;/a&gt;    &lt;/h^value($OutlineDepth)^&gt;    ^value($Text)^    ^justChildren^&lt;/section&gt;</code></pre><p>The changes here add a new <code>id</code> attribute to the <code>&lt;section&gt;</code> element, and an <code>&lt;a&gt;</code> link within the section header whose <code>href</code> URL points to the respective section.  If you hover over the headings of this tutorial, you should notice that this template is in use here and every heading is also a link you can copy or bookmark for later reference within the tutorial.</p>	</section></section></section><section id="section-43">	<h2><a href="#section-43">Summary</a></h2>	<p>In this tutorial, I walked you through the following in using Tinderbox:</p><ul><li>outlining an article;</li><li>writing an article;</li><li>augmenting an outline with prototypes;</li><li>building and using HTML export templates.</li></ul><p>I hope that the end product from this tutorial turns out to be a useful tool for producing content for publishing on the web using Tinderbox. </p><p>The nice thing about the Tinderbox document constructed during the course of this tutorial is that you don't need to start from scratch the next time you want to write an article: Just clear out the article and section content from the previous use, and use the prototypes and templates as a starting point for your next article.</p><p>Along the way, as you learn more features of Tinderbox, you can continue to introduce incremental improvements—please share, especially if I can include them in a future revision of this tutorial! </p>	</section>		</article>		<script type="text/javascript" src="js/article.js"></script>	</body></html>