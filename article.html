<!DOCTYPE html !><html>	<head>		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />		<title>Creating an article in HTML with Tinderbox</title>		<link rel="stylesheet" type="text/css" href="css/main.css" />	</head>	<body>		<article>			<h1>Creating an article in HTML with Tinderbox</h1>			<p>For almost 10 years now, I've had an on-again / off-again relationship with <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> from <a href="http://www.eastgate.com/">Eastgate Systems Inc</a>. I've long used outlines and mindmaps to get thoughts and out of my head and onto paper and screens. So, it's pretty inevitable that I'd eventually be attracted to <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a>.</p><p>But, the thing is, <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> is a complex <em>technology</em>. Note that I didn't say <em>application</em> or <em>utility</em>: <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> isn't a sleek little productivity app you can pick up for $20 or less—and if you approach it from that mindset both the price and user interface will baffle you.</p><p>No, <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> is more like a hyperdimensional spreadsheet or a personal <a href="http://couchdb.apache.org/">CouchDB</a>. <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> is a platform for capturing your thoughts and wrapping them in a scaffold of machine intelligence. The learning curve follows a crazy-steep <a href="http://en.wikipedia.org/wiki/Sigmoid_function">Sigmoid function</a>. But, the complexity is there for a reason. This isn't a commuter vehicle; this is a fully-articulated piece of <a href="http://bit.ly/cBJBpX">construction-site heavy machinery</a> for your brain.</p><p>And, as such, you'll probably require a bit of training before you can get productive. So, apropos of <a href="http://decafbad.com/blog/2010/03/10/pondering-the-cobwebs">my notion of writing for myself</a>, I thought I might throw together a bit of a tutorial on some things in <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> that have all finally come together for me. If I do this right, it'll be a tutorial I wish I'd had a few years ago.</p>			<section id="sect-2">	<h2>Writing an article in Tinderbox</h2>	<p>This is going to be a tutorial about writing an article with <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> for publication as HTML. In fact, this tutorial is an article written using Tinderbox, so it'll serve as its own example. You're reading the HTML export now, and the complete <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> source document can be <a href="http://github.com/lmorchard/tinderbox-article-tutorial">found here on GitHub</a>. I'll be building things up incrementally throughout this tutorial, tracking the actual process I went through along the way. Following along with the final product may help you—though building your own may help more.</p>	<section id="sect-3">	<h3>Outline the article's sections</h3>	<p>The first thing to do is to create a new document, which opens up as an Outline View by default.  Hit return to create your first <em>note</em>, and type the title "Creating an HTML5 Article with Tinderbox":<img src="img/010-outline.png" alt="010-outline" title="A new outline" /></p><p>Now, if you hit SHIFT-Return, you'll create a child note under the first one. Type the title of your second note, "Outline your article's sections".  After that, hit Return, and you can start typing the title of the next note.  Your outline is now well under way:<img src="img/020-outline-2.png" alt="020-outline-2" title="An outline in progress" /></p><p>Continue like this, sketching out the structure of what you plan to write. You can drag notes around to rearrange them, delete them, do whatever you like with the outline. Note that <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> offers many further tools for capturing and visualizing your thoughts, but we'll stick with the Outline View for now.</p>	</section><section id="sect-4">	<h3>Write the article's text in notes</h3>	<p>Once you've got an outline for your article in good shape, it's time to start writing the text of the article itself. Really, you can bounce back and forth between outlining and writing prose—Tinderbox doesn't impose a process—but this is a good time to introduce the latter.</p><p>In <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a>, notes have many attributes. So far, you've seen the <code>$Name</code> attribute in use as the titles of outline nodes. Well, notes can also contain body text. To see what I mean, click on a note to select it—say the root note of your outline—and hit the spacebar. Here's what the body text looks like for the root node of this tutorial:<img src="img/021-note-text.png" alt="021-note-text" title="Note body text editor" /></p><p>You can click on any note in the outline and call up a body text editor with the spacebar. By using this editor, you can work on writing the actual content of your article.</p><p>But, clicking on each note and hitting the spacebar can get tedious after awhile. <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a> offers another View to make editing the text easier across a complex document. Select <code>View &gt; New Explorer View</code> from the menu, and you'll see something like this window:<img src="img/025-explorer-view.png" alt="025-explorer-view" title="New Explorer view" /></p><p>The Explorer View is a split window combining both a note text editor with another view type. By default, this will show your outline. Here, you can click on the title of a note, and its text appears in the editor. This should make it easier to jump back and forth between sections, and even perform some tweaks to the outline itself.</p>	</section></section><section id="sect-5">	<h2>Exporting the article as HTML</h2>	<p>Now, say you're done composing the content of your article. You've gotten the outline structured to your satisfaction, and you've written everything you want for a first draft. At this point, you'd like to get the thing exported as HTML to publish somewhere on the web.</p><p>This is where the more advanced features of <a href="http://www.eastgate.com/Tinderbox/">Tinderbox</a>'s HTML export templates come into play.</p>	<section id="sect-6">	<h3>Create an "Internals" note to contain non-exportable utility notes</h3>	<p>Now, things start to get interesting. First, in order to keep things clean, you're going to create a new note to contain the export machinery you'll soon need. </p><p>Select the root note of your article.  But, rather than just hitting return to create a new outline item, hit Cmd-K to summon the full Create Note dialog window:<img src="img/050-internals.png" alt="050-internals" title="Creating the internals note" /></p><p>In this dialog, you can control quite a number of different attributes and options. But, ignore most of them for now. Just type the name "Internals" and, for good measure, check the "Separator" box. This will create a new note like the following:<img src="img/060-internals.png" alt="060-internals" title="The internals note in the outline" /></p><p>Notice I got a little ahead of things in the screenshot above: The next thing I want you to dois add two notes as children under "Internals", respectively named "Prototypes" and "Templates".</p>	</section><section id="sect-12">	<h3>Use prototypes to augment notes with common details</h3>	<p>Spreadsheets and relational databases center around rows and columns. Similarly, Tinderbox centers around notes and attributes. For the most part, the attributes of your notes have been mostly invisible, since you've been dealing mainly with names and body text. But, you're about to get a bit more acquainted with what's going on under the hood of your notes.</p><p>In Tinderbox, you can create a special kind of note called a <em>Prototype</em>. A prototype, as its name suggests, can serve as the basis for many other notes. You can create a prototype and assign values to some of its attributes, and those values will be used as defaults for other notes created as instances of that prototype. And, if you change an attribute on a prototype, all notes using that prototype will in turn inherit the changes.</p>	<section id="sect-13">	<h4>Create a Prototype named *article</h4>	<p>So, to see what all the above means, create a child note named "<code>*article</code>" under the new Prototypes note in Internals. Why <code>*article</code>? No reason, really. Name it whatever you like, but I prefer to use odd looking names for notes that have special purposes.</p><p>Now, either right-click and pick Rename from the menu, or hit the Enter key. (That's <em>Enter</em>, mind you, not <em>Return</em>.) This will summon up the note details dialog, not unlike the one you saw to create the Internals note earlier:<img src="img/070-article-create.png" alt="070-article-create" title="Creating the article prototype" /></p><p>In this dialog, check the box next to "Can be a prototype" and click Ok. This note is now a <em>Prototype</em>.  Now, click to select the root note of your article and summon the note details dialog with either the right-click menu or the Enter key:<img src="img/080-article-prototype.png" alt="080-article-prototype" title="Using the article prototype" /></p><p>Notice the drop down selection for Prototype. In this list, you should see your new prototype <code>*article</code> appear—select it and hit Ok. Now, your root article note is an instance of the prototype <code>*article</code>. To demonstrate what this means, I'll introduce another interesting feature of Tinderbox outlines, called <em>badges</em>. </p><p>Just to the left of the note title for <code>*article</code>, there should be a bit of empty space. Right click here, and you should see a list of icons like these:<img src="img/090-article-badge.png" alt="090-article-badge" title="Picking the article badge" /></p><p>Pick one of these—I used "web", myself—and you should notice that not only does the prototype now have an icon next to it, so does the root note of your article:<img src="img/091-article-badge-applied.png" alt="091-article-badge-applied" title="Prototype badge inherited" /></p><p>This works because the <em>badge</em> you picked is assigned to the <code>$Badge</code> attribute of the <code>*article</code> prototype. And, since your article's root node is an instance of the <code>*article</code> prototype, it received the same value for its <code>$Badge</code> attribute as well. </p>	</section><section id="sect-16">	<h4>Create a Prototype named *section</h4>	<p>Again, as you can see from the screenshot, I've gotten ahead of things. The next prototype I want you to create is called "<code>*section</code>", which will be used for all the sections and sub-sections under your article. Create it in the same way you created <code>*article</code>—that is: create the note, summon the note details dialog, ensure "Can be a prototype" is checked.</p><p>After you've created a <code>*section</code> prototype, give it a badge. I used "next" in my document:<img src="img/101-section-badge.png" alt="101-section-badge" title="Section prototype with badge" /></p><p>I've also given a "folder" badge to some other container notes, but those are just purely ornamental to help me keep track of what purposes various notes serve. Now, run through your outline, expand every parent note, and select every section, like so:<img src="img/110-select-sections.png" alt="110-select-sections" title="Select all sections" /></p><p>Once you've got all of your sections selected, it's time for another interesting tool in the Tinderbox, called Quickstamp. Either hit Cmd-1 or pick <code>Window &gt; Inspector</code> from the menu. You'll see a dialog like this one:<img src="img/111-quickstamp-sections.png" alt="111-quickstamp-sections" title="Quickstamp dialog" /></p><p>With this dialog, you can "quick stamp" a value for a given attribute onto many notes at once. Select the "General" category from the first drop down, and then "Prototype" from the second. Type "<code>*section</code>" into the Value field, and click Apply.</p><p>Almost instantly, you should see the badge from your <code>*section</code> prototype appear on all the sections you've selected in your outline:<img src="img/112-section-applied.png" alt="112-section-applied" title="Section prototype applied" /></p>	</section><section id="sect-19">	<h4>Assign OnAdd rules to prototypes to auto-create *section notes.</h4>	<p>By assigning a prototype to one or many notes, you can affect sweeping changes across your document. So far, this has just consisted of a largely cosmetic icon badge in your outline. But, since Tinderbox is mostly driven by notes and attributes, this simple mechanism can perform some very interesting tricks.</p><p>However, before we get to those tricks, there's one more way to apply a prototype that's worth showing here. You've applied a prototype to a single note, and then used Quickstamp to apply a prototype to many notes. But, that's a manual process—wouldn't it be nice if you could get a prototype automatically applied to certain notes?</p><p>As it turns out, this is what the "OnAdd Action" field in the note details dialog can do. Open up the details for the <code>*article</code> prototype, and type in the following OnAdd Action:</p><pre><code>if ($Prototype="") { $Prototype="*section" }</code></pre><p>The dialog should look like the following before you hit Ok:<img src="img/120-onadd.png" alt="120-onadd" title="OnAdd rule for sections" /></p><p>Repeat this process with the <code>*section</code> prototype.</p><p>What should happen in your document now is that whenever you add a new note to your document under notes using wither the <code>*article</code> or <code>*section</code> prototype, that new child note will be assigned the <code>*section</code> prototype unless it already has one.  This is pretty powerful: It means that you can set up outlines that establish defaults over their contents without requiring manual work beyond creating notes.</p>	</section></section><section id="sect-20">	<h3>Build templates for HTML export</h3>		<section id="sect-21">	<h4>Create a *template prototype</h4>		</section><section id="sect-22">	<h4>Create article.html</h4>		<section id="sect-23">	<h5>Select the *article prototype and open a New HTML View</h5>		</section><section id="sect-24">	<h5>Select the article.html template</h5>		</section></section><section id="sect-25">	<h4>Create section.html</h4>		<section id="sect-26">	<h5>Select the *section prototype and open a New HTML View</h5>		</section><section id="sect-27">	<h5>Select the section.html template</h5>		</section></section><section id="sect-40">	<h4>Restrict exported notes by changing HTMLDontExport default to true</h4>		<section id="sect-41">	<h5>Remember to set HTMLDontExport to true on *article and *section prototypes</h5>		</section></section><section id="sect-28">	<h4>Open a new HTML View on the root article note and hit update</h4>		</section></section><section id="sect-29">	<h3>Refine the HTML export templates</h3>		<section id="sect-30">	<h4>Add the $Id sequence attribute and include unique section IDs</h4>		</section><section id="sect-31">	<h4>Use runCommand() to filter text through Markdown</h4>		</section></section></section>		</article>		<script type="text/javascript" src="js/main.js"></script>	</body></html>